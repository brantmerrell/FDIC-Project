test<-test[order(rownames(test)),]
test
test<-rbind(head(add),head(File))
test
test<-test[order(as.numeric(rownames(test))),]
test
File<-rbind(add,File)
nrow(File)
length(certs)
File<-File[order(as.numeric(rownames(File))),]
head(File)
File[seq(1,nrow(File),length.out = 20),]
for(qP in quarterPatterns){
File<-list.files("modified",pattern=qP,full.names = T)
DF<-read.csv(File, row.names="X")
missing<-certs[!certs %in% row.names(DF)]
add<-data.frame(matrix(ncol=6,nrow=length(missing)), row.names = missing)
colnames(add)<-colnames(DF)
DF<-rbind(add,DF)
DF<-DF[order(as.numeric(rownames(DF))),]
write.csv(DF, File)
print(gsub("modified/","",File))
print(DF[seq(1,nrow(DF),length.out = 5),])
}
qP
File<-list.files("modified",pattern=qP,full.names = T)
DF<-read.csv(File, row.names="X")
missing<-certs[!certs %in% row.names(DF)]
add<-data.frame(matrix(ncol=6,nrow=length(missing)), row.names = missing)
colnames(add)<-colnames(DF)
print(target=length(certs), start=nrow(DF), add=nrow(add))
print(c(target=length(certs), start=nrow(DF), add=nrow(add)))
DF<-rbind(add,DF)
head(DF)
head(add)
add<-data.frame(matrix(ncol=5,nrow=length(missing)), row.names = missing)
colnames(add)<-colnames(DF)
print(c(target=length(certs), start=nrow(DF), add=nrow(add)))
DF<-rbind(add,DF)
DF<-DF[order(as.numeric(rownames(DF))),]
write.csv(DF, File)
print(gsub("modified/","",File))
print(DF[seq(1,nrow(DF),length.out = 5),])
track
track<-c(quarter=qP,target=length(certs), start=nrow(DF), add=nrow(add))
track
for(qP in quarterPatterns){
File<-list.files("modified",pattern=qP,full.names = T)
DF<-read.csv(File, row.names="X")
missing<-certs[!certs %in% row.names(DF)]
if(0<length(missing)){
add<-data.frame(matrix(ncol=5,nrow=length(missing)), row.names = missing)
colnames(add)<-colnames(DF)
track<-c(quarter=qP,target=length(certs), start=nrow(DF), add=nrow(add))
DF<-rbind(add,DF)
DF<-DF[order(as.numeric(rownames(DF))),]
write.csv(DF, File)
print(track)
}else{print(paste(qP,"is already full size"))}
}
qP
File<-list.files("modified",pattern=qP,full.names = T)
DF<-read.csv(File, row.names="X")
missing<-certs[!certs %in% row.names(DF)]
(0<length(missing))
add<-data.frame(matrix(ncol=5,nrow=length(missing)), row.names = missing)
colnames(add)<-colnames(DF)
colnames(DF)
add<-data.frame(matrix(ncol=ncol(DF),nrow=length(missing)), row.names = missing)
colnames(add)<-colnames(DF)
track<-c(quarter=qP,target=length(certs), start=nrow(DF), add=nrow(add))
DF<-rbind(add,DF)
DF<-DF[order(as.numeric(rownames(DF))),]
write.csv(DF, File)
print(track)
for(qP in quarterPatterns){
File<-list.files("modified",pattern=qP,full.names = T)
DF<-read.csv(File, row.names="X")
missing<-certs[!certs %in% row.names(DF)]
if(0<length(missing)){
add<-data.frame(matrix(ncol=ncol(DF),nrow=length(missing)), row.names = missing)
colnames(add)<-colnames(DF)
track<-c(quarter=qP,target=length(certs), start=nrow(DF), add=nrow(add))
DF<-rbind(add,DF)
DF<-DF[order(as.numeric(rownames(DF))),]
write.csv(DF, File)
print(track)
}else{print(paste(qP,"is already full size"))}
}
Columns<-lapply(list.files("modified",full.names), read.csv, nrows=3)
Columns<-lapply(list.files("modified",full.names=T), read.csv, nrows=3)
Columns<-lapply(Columns,ncol)
unlist(Columns)
Columns<-lapply(list.files("modified",full.names=T), read.csv, nrows=3)
Columns<-lapply(Columns,colnames)
Columns[[1]]
Columns[[2]]
list.files("modified",full.names=T)
n
workFrame<-read.csv(list.files("modified",
pattern = quarterPatterns[n],
full.names = T),
row.names = "X")
colnames(workFrame)
colnames(workFrame)<-paste(colnames(workFrame),qP,sep = "_")
colnames(workFrame)
for(n in 1:length(quarterPatterns)){
workFrame<-read.csv(list.files("modified",
pattern = quarterPatterns[n],
full.names = T),
row.names = "X")
colnames(workFrame)<-paste(colnames(workFrame),qP,sep = "_")
ifelse(n==1, DF<-workFrame, DF<-cbind(DF, workFrame))
print(colnames(workFrame))
}
n
workFrame<-read.csv(list.files("modified",
pattern = quarterPatterns[n],
full.names = T),
row.names = "X")
head(workFrame)
tail(workFrame)
nrow(workFrame)
rownames(workFrame)[seq(1,nrow(workFrame),length.out=20)]
sum(rownames(workFrame) %in% ccert)
sum(rownames(workFrame) %in% certs)
sum(!rownames(workFrame) %in% certs)
head(rownames(workFrame)[!rownames(workFrame) %in% certs))
head(rownames(workFrame)[!rownames(workFrame) %in% certs)
head(rownames(workFrame)[!rownames(workFrame) %in% certs]
)
tail(rownames(workFrame)[!rownames(workFrame) %in% certs])
workFrame[tail(rownames(workFrame)[!rownames(workFrame) %in% certs]),]
length(certs)
for(n in 1:length(quarterPatterns)){
File<-paste("modified/",quarterPatterns[n],".csv",sep="")
newCerts <- rownames(read.csv(File))
ifelse(n==1, certs <- newCerts, certs <- unique(c(certs, newCerts)))
print(File)
}
length(certs)
for(qP in quarterPatterns){
File<-list.files("modified",pattern=qP,full.names = T)
DF<-read.csv(File, row.names="X")
missing<-certs[!certs %in% row.names(DF)]
if(0<length(missing)){
add<-data.frame(matrix(ncol=ncol(DF),nrow=length(missing)), row.names = missing)
colnames(add)<-colnames(DF)
track<-c(quarter=qP,target=length(certs), start=nrow(DF), add=nrow(add))
DF<-rbind(add,DF)
DF<-DF[order(as.numeric(rownames(DF))),]
write.csv(DF, File)
print(track)
}else{print(paste(qP,"is already full size"))}
}
for(File in list.files("modified",full.names = T)){
print(nrow(read.csv(File)))
}
for(n in 1:length(quarterPatterns)){
File<-paste("modified/",quarterPatterns[n],".csv",sep="")
newCerts <- rownames(read.csv(File))
ifelse(n==1, certs <- newCerts, certs <- unique(c(certs, newCerts)))
print(File)
}
length(certs)
for(qP in quarterPatterns){
File<-list.files("modified",pattern=qP,full.names = T)
DF<-read.csv(File, row.names="X")
missing<-certs[!certs %in% row.names(DF)]
if(0<length(missing)){
add<-data.frame(matrix(ncol=ncol(DF),nrow=length(missing)), row.names = missing)
colnames(add)<-colnames(DF)
track<-c(quarter=qP,target=length(certs), start=nrow(DF), add=nrow(add))
DF<-rbind(add,DF)
DF<-DF[order(as.numeric(rownames(DF))),]
write.csv(DF, File)
print(track)
}else{print(paste(qP,"is already full size"))}
}
for(n in 1:length(quarterPatterns)){
File<-paste("modified/",quarterPatterns[n],".csv",sep="")
newCerts <- rownames(read.csv(File))
ifelse(n==1, certs <- newCerts, certs <- unique(c(certs, newCerts)))
print(File)
}
length(certs)
length(unique(certs))
?scan
rm(DF)
zipFiles
filePattern
for(ZIP in zipFiles){
# get a list of all files within zip:
Files<-unzip(ZIP,list=T)$Name
# store the exact names of files relevant to project:
Files<-Files[grepl(filePattern,Files)]
# unzip the project's relevant files from the zipfile:
unzip(ZIP, files = Files, exdir = "./rawFiles")
print(Files)
}
for(File in list.files("rawFiles",pattern="\\.csv$",full.names = T)){
# read the raw file:
DF<-read.csv(File)
# identify which columns are relevant:
ColNames <- which(colnames(DF) %in% projectVars)
# trim the data frame to include only relevant files:
DF<-DF[,ColNames]
# write the data frame to the same file name, but in the "modified" folder
write.csv(DF,gsub("rawFiles","modified",File))
}
for(File in list.files("rawFiles",pattern="\\.csv$",full.names = T)){
# read the raw file:
DF<-read.csv(File)
# identify which columns are relevant:
ColNames <- which(colnames(DF) %in% projectVars)
# trim the data frame to include only relevant files:
DF<-DF[,ColNames]
# write the data frame to the same file name, but in the "modified" folder
write.csv(DF,gsub("rawFiles","modified",File))
print(File)
}
fdicFiles<-list.files("modified",full.names = T)
read.csv(fdicFiles[1],nrows = 3)
tail(read.csv(fdicFiles[1]))
DF<-read.csv(fdicFiles[1]
)
fdicFiles[1]
fdicFiles
DF<-read.csv(fdicFiles[270])
list.files("modified",pattern="\\d{8}\\.csv$")
file.remove(list.files("modified",pattern="\\d{8}\\.csv$",full.names = T))
rm(fdicFiles)
DF<-read.csv(list.files("modified",full.names = T)[1])
head(DF)
DF<-read.csv(list.files("modified",full.names = T)[1],row.names = "X")
head(DF)
DF1<-read.csv(list.files("modified",full.names = T)[1],row.names = "X")
DF2<-read.csv(list.files("modified",full.names = T)[2],row.names = "X")
rm(newCerts)
rm(certs,Columns)
DF1<-DF1[order(rownames(DF1)),]
DF2<-DF2[order(rownames(DF2)),]
identical(rownames(DF1),rownames(DF2))
for(File in list.files("modified","\\.csv$",full.names = T)){
DF<-read.csv(File, row.names = "X")
DF<-DF[order(rownames(DF)),]
write.csv(DF,File)
print(File)
}
certs<-rownames(read.csv(list.files("modified","\\.csv$",full.names = T), row.names = "X"))
list.files("modified","\\.csv$",full.names = T)
certs<-rownames(read.csv(list.files("modified","\\.csv$",full.names = T)[1], row.names = "X"))
length(unique(certs))
certs2<-rownames(read.csv(list.files("modified","\\.csv$",full.names = T)[2], row.names = "X"))
identical(certs1,certs2)
identical(certs,certs2)
certs3<-rownames(read.csv(list.files("modified","\\.csv$",full.names = T)[3], row.names = "X"))
identical(certs,certs3)
certs4<-unique(certs,certs3)
sum(!certs3 %in% certs4)
rm(certs,certs2,certs3,certs4)
rows <- lapply(list.files("modified",".csv",full.names = T), read.csv, row.names="X")
rows <- lapply(list.files("modified",".csv",full.names = T), read.csv, row.names="X", nrows = 3)
rows <- lapply(list.files("modified",".csv",full.names = T), read.csv, row.names="X")
rows <- lapply(rows, nrow)
rows <- unlist(rows)
max(rows)
which(max(rows)==rows)
certs<-rownames(read.csv(list.files("modified","\\.csv$",full.names = T)[1], row.names = "X"))
certTest<-function(File){
print(File)
sum(!row.names(read.csv(File,row.names = "X")) %in% certs)==0
}
certTest(list.files("modified",".csv",full.names = T)[1])
lapply(list.files("modified",".csv",full.names = T),certTest)
Tests<-lapply(list.files("modified",".csv",full.names = T),certTest)
unlist(Tests)
FALSE %in% unlist(Tests)
DF<-read.csv(File,row.names = "X")
File
missing<-certs[!certs %in% row.names(DF)]
all<-matrix(nrows = length(missing), ncols = ncol(DF))
(0<length(missing))
?matrix
all<-matrix(nrow = length(missing), ncol = ncol(DF))
all<-data.frame(all, row.names = missing)
head(all)
tail(all)
all[seq(1,nrow(all),length.out = 20),]
DF <- rbind(DF,all)
colnames(all)<-colnames(DF)
DF <- rbind(DF,all)
DF <- DF[order(as.numeric(row.names(DF))),]
DF[seq(1,nrow(DF),length.out = 20),]
File
certFill<-function(File,certs=certs){
DF<-read.csv(File,row.names = "X")
missing<-certs[!certs %in% row.names(DF)]
if(0<length(missing)){
?matrix
all<-matrix(nrow = length(missing), ncol = ncol(DF))
all<-data.frame(all, row.names = missing)
colnames(all)<-colnames(DF)
DF <- rbind(DF,all)
DF <- DF[order(as.numeric(row.names(DF))),]
DF[seq(1,nrow(DF),length.out = 20),]
}
DF
}
DF<-certFill(list.files("modified",full.names = T)[1])
list.files("modified",full.names = T)[1]
certFill(list.files("modified",full.names = T)[1])
DF<-read.csv(File,row.names = "X")
missing<-certs[!certs %in% row.names(DF)]
if(0<length(missing)){
?matrix
all<-matrix(nrow = length(missing), ncol = ncol(DF))
all<-data.frame(all, row.names = missing)
colnames(all)<-colnames(DF)
DF <- rbind(DF,all)
DF <- DF[order(as.numeric(row.names(DF))),]
DF[seq(1,nrow(DF),length.out = 20),]
}
DF<-certFill(File=list.files("modified",full.names = T)[1])
certFill<-function(File){
DF<-read.csv(File,row.names = "X")
missing<-certs[!certs %in% row.names(DF)]
if(0<length(missing)){
all<-matrix(nrow = length(missing), ncol = ncol(DF))
all<-data.frame(all, row.names = missing)
colnames(all)<-colnames(DF)
DF <- rbind(DF,all)
DF <- DF[order(as.numeric(row.names(DF))),]
}
DF
}
DF<-certFill(File=list.files("modified",full.names = T)[1])
seq(1,nrow(DF),length.out = 20)
DF[seq(1,nrow(DF),length.out = 20),]
DF<-certFill(File=list.files("modified",full.names = T)[2])
DF[seq(1,nrow(DF),length.out = 20),]
DF<-read.csv(list.files("modified",full.names = T)[2])
head(read.csv)
head(DF)
DF<-read.csv(list.files("modified",full.names = T)[2],row.names = "X")
head(DF)
DF<-read.csv(File)
for(File in list.files("rawFiles",pattern="\\.csv$",full.names = T)){
# read the raw file:
DF<-read.csv(File)
# identify which columns are relevant:
ColNames <- which(colnames(DF) %in% projectVars)
# trim the data frame to include only relevant files:
DF<-DF[,ColNames]
# write the data frame to the same file name, but in the "modified" folder
write.csv(DF,gsub("rawFiles","modified",File))
print(File)
}
DF<-read.csv(File,row.names = "cert")
head(DF)
File
for(File in list.files("rawFiles",pattern="\\.csv$",full.names = T)){
# read the raw file:
DF<-read.csv(File)
# identify which columns are relevant:
ColNames <- which(colnames(DF) %in% projectVars)
# trim the data frame to include only relevant files:
DF<-DF[,ColNames]
# write the data frame to the same file name, but in the "modified" folder
write.csv(DF,gsub("rawFiles","modified",File))
print(File)
}
DF1<-read.csv(list.files("modified",full.names = T)[1],row.names = "X")
DF1<-read.csv(list.files("modified",full.names = T)[1])
head(DF1)
DF<-read.csv(File, row.names = "cert")
head(DF)
for(File in list.files("rawFiles",pattern="\\.csv$",full.names = T)){
# read the raw file:
DF<-read.csv(File, row.names = "cert")
# identify which columns are relevant:
ColNames <- which(colnames(DF) %in% projectVars)
# trim the data frame to include only relevant files:
DF<-DF[,ColNames]
# write the data frame to the same file name, but in the "modified" folder
write.csv(DF,gsub("rawFiles","modified",File))
print(File)
}
DF1<-read.csv(list.files("modified",full.names = T)[1])
DF2<-read.csv(list.files("modified",full.names = T)[2],row.names = "X")
head(DF1)
DF1<-read.csv(list.files("modified",full.names = T)[1],row.names = "X")
head(DF1)
DF1<-DF1[order(rownames(DF1)),]
DF2<-DF2[order(rownames(DF2)),]
for(File in list.files("modified","\\.csv$",full.names = T)){
DF<-read.csv(File,row.names = "X")
DF<-DF[order(rownames(DF)),]
write.csv(DF,File)
print(File)
}
certs<-rownames(read.csv(list.files("modified","\\.csv$",full.names = T)[1], row.names = "X"))
rm(certs,certs2,certs3,certs4)
rows <- lapply(list.files("modified",".csv",full.names = T), read.csv, row.names="X")
rows <- lapply(rows, nrow)
rows <- unlist(rows)
which(max(rows)==rows)
certs<-rownames(read.csv(list.files("modified","\\.csv$",full.names = T)[1], row.names = "X"))
certTest<-function(File){
print(File)
sum(!row.names(read.csv(File,row.names = "X")) %in% certs)==0
}
certTest(list.files("modified",".csv",full.names = T)[1])
Tests<-lapply(list.files("modified",".csv",full.names = T),certTest)
FALSE %in% unlist(Tests)
unlist(Tests)
certFill<-function(File){
DF<-read.csv(File,row.names = "X")
missing<-certs[!certs %in% row.names(DF)]
if(0<length(missing)){
all<-matrix(nrow = length(missing), ncol = ncol(DF))
all<-data.frame(all, row.names = missing)
colnames(all)<-colnames(DF)
DF <- rbind(DF,all)
DF <- DF[order(as.numeric(row.names(DF))),]
}
DF
}
DF<-certFill(File=list.files("modified",full.names = T)[1])
head(DF)
DF[seq(1,nrow(DF),length.out=20),]
DF[seq(1,nrow(DF),length.out = 20),]
DF<-certFill(File=list.files("modified",full.names = T)[2])
DF[seq(1,nrow(DF),length.out = 20),]
DF<-certFill(File=list.files("modified",full.names = T)[1])
DF[seq(1,nrow(DF),length.out = 20),]
DF<-certFill(File=list.files("modified",full.names = T)[1])
DF[seq(1,nrow(DF),length.out = 20),]
DF<-certFill(File=list.files("modified",full.names = T)[1])
DF[seq(1,nrow(DF),length.out = 20),]
DF<-certFill(File=list.files("modified",full.names = T)[1])
DF[seq(1,nrow(DF),length.out = 20),]
DF<-certFill(File=list.files("modified",full.names = T)[30])
DF[seq(1,nrow(DF),length.out = 20),]
DF<-certFill(File=list.files("modified",full.names = T)[61])
DF[seq(1,nrow(DF),length.out = 20),]
DF<-certFill(File=list.files("modified",full.names = T)[90])
DF[seq(1,nrow(DF),length.out = 20),]
DF<-certFill(File=list.files("modified",full.names = T)[121])
DF[seq(1,nrow(DF),length.out = 20),]
for(File in list.files("modified",pattern = "\\.csv$", full.names = T)){
DF<-certFill(File)
write.csv(DF,File)
print(File)
}
DF1<-read.csv(fdicFiles[1],row.names="cert")
DF1<-read.csv(list.files("modified",pattern = "\\.csv", full.names = T)[1],row.names="cert")
list.files("modified",pattern = "\\.csv", full.names = T)[1]
DF1<-read.csv(list.files("modified",pattern = "\\.csv", full.names = T)[1],row.names="X")
DF1<-read.csv(list.files("modified",pattern = "\\.csv", full.names = T)[30],row.names="X")
head(DF1)
head(DF2)
DF1<-read.csv(list.files("modified",pattern = "\\.csv", full.names = T)[2],row.names="X")
DF2<-DF2[,-grep("^X$",colnames(DF2))]
head(DF2)
DF1<-read.csv(list.files("modified",pattern = "\\.csv", full.names = T)[1],row.names="X")
DF2<-read.csv(list.files("modified",pattern = "\\.csv", full.names = T)[2],row.names="X")
head(DF2)
head(DF1)
head(cbind(DF1,DF2))
DF2<-read.csv(list.files("modified",pattern = "\\.csv", full.names = T)[4],row.names="X")
head(cbind(DF1,DF2))
DF<-certFill(list.files("modified",full.names=T),row.names="X")
DF<-certFill(list.files("modified",full.names=T))
DF<-certFill(list.files("modified",full.names=T)[4])
for(File in list.files("modified",pattern = "\\.csv$", full.names = T)){
DF<-certFill(File)
file.remove(File)
write.csv(DF,File)
print(File)
}
DF1<-read.csv(list.files("modified",pattern = "\\.csv", full.names = T)[1],row.names="X")
DF2<-read.csv(list.files("modified",pattern = "\\.csv", full.names = T)[4],row.names="X")
File
DF<-certFill(File)
length(certs)
DF<-read.csv(File)
summary(File)
summary(DF)
summary(DF$X)
length(DF$X)
rows <- lapply(list.files("modified",".csv",full.names = T), read.csv, row.names="X")
rows <- lapply(rows, nrow)
rows <- unlist(rows)
rows
which(max(rows)==rows)
file.remove(list.files("modified",full.names = T))
for(File in list.files("rawFiles",pattern="\\.csv$",full.names = T)){
# read the raw file:
DF<-read.csv(File, row.names = "cert")
# identify which columns are relevant:
ColNames <- which(colnames(DF) %in% projectVars)
# trim the data frame to include only relevant files:
DF<-DF[,ColNames]
# write the data frame to the same file name, but in the "modified" folder
write.csv(DF,gsub("rawFiles","modified",File))
print(File)
}
rm(add,all,DF,DF1,DF2,fileDF,test)
rm(add,all,DF,DF1,DF2,fileDF,test)
DF<-read.csv(File,row.names = "X")
File
